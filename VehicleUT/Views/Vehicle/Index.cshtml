@model IEnumerable<Vehicle>


<head>
    <link href="~/css/site-v1.css" rel="stylesheet" />
    <link href='~/css/service-v1.css' rel='stylesheet' />
    <script src="~/js/site-v1.js"></script>
</head>

<br />
<div class="container row p-0 m-0">
    <div class="col-6" style="text-align:center">
        <h2 class="text-info">Your Vehicles</h2>
    </div>
    <div class="col-6" style="text-align:center">
        <a asp-action="Create" class="btn btn-info form-control text-white">Add Vehicle</a>
    </div>
</div>
<br />
<div class="box">
    @if (Model.Count() > 0) {
        <div class="Head">
            <h3 style="border-right:solid medium black">
                <label>Make</label>
            </h3>
            <h3 style="border-right:solid medium black">
                <label>Model</label>
            </h3>
            <h3 style="border-right:solid medium black">
                <label>Year</label>
            </h3>
            <h3>
                <label>Mileage</label>
            </h3>
        </div>
        @for (int i = 0; i < Model.Count(); i++) {
            <div class="infoBlock" onclick="showOptions(@i)">
                <div class="Head">
                    <h3>@Model.ElementAt(i).Make</h3>
                    <h3>@Model.ElementAt(i).Model</h3>
                    <h3>@Model.ElementAt(i).Year</h3>
                    <h3>@Model.ElementAt(i).Mileage</h3>
                </div>

                <div class="options" style="display:none">
                    <button onclick="openModal(@Model.ElementAt(i).Mileage)" class="btn btn-primary">Update Mileage</button>
                    <a asp-route-Id="@Model.ElementAt(i).VehicleId" asp-action="Edit" class="btn btn-primary">Edit</a>
                    <button asp-route-id="@Model.ElementAt(i).VehicleId" asp-action="Delete" onclick="return confirm('Are you sure you want to delete this Vehicle?')" class="btn btn-danger">Delete</button>
                </div>
            </div>
            <div class="modal" id="@Model.ElementAt(i).Mileage">
                <div class="modal-content" style="width:320px" >
                    <div class="modal-body" style="text-align:center">
                        <form method="post" asp-action="Edit">
                            <input asp-for="@Model.ElementAt(i).UserId" hidden />
                            <input asp-for="@Model.ElementAt(i).VehicleId" hidden />
                            <input asp-for="@Model.ElementAt(i).Make" hidden />
                            <input asp-for="@Model.ElementAt(i).Model" hidden />
                            <input asp-for="@Model.ElementAt(i).Year" hidden />
                            <input asp-for="@Model.ElementAt(i).milesGone" hidden />
                            <div style="padding:20px">
                                <input asp-for="@Model.ElementAt(i).fuelUsed" value="" />
                            </div>
                            <div style="padding:20px">
                                <input asp-for="@Model.ElementAt(i).Mileage" />
                            </div>
                            <div style="padding:20px">
                                <input type="submit" class="btn btn-success w-40" value="Submit" />
                                <a asp-action="Index" class="btn btn-warning w-40"><i class="fas fa-sign-out-alt"></i> Back</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        }
    }
    else {
        <p>No Vehicles Listed</p>
    }
</div>

